#!/usr/bin/env bash

function ssh_to_dev(){
    ssh admin@10.16.14.49
}

function ssh_to_nb(){
    ssh shenghua.zhangsh@nb.alibaba-inc.com
}

function ssh_to_aliyun(){
    ssh admin@115.29.167.182
}

function ssh_to_ol(){
    ssh shenghua.zhangsh@login1.cm4.taobao.org
}

function _proxy(){
    pid=`lsof -i tcp:8000 -P | grep 'ssh' | awk '{print $2}' | uniq`
    [ "$pid" == "" ] || kill -9 $pid
    ssh -qTfnN -D 8000 zhangsh@hk.5bird.com
}

function _help(){
cat <<EOF

tssh ( Teafly SSH Tools )
===============================================================

    dev     --- ssh to development computor via teafly account
    nb      --- ssh to nb server via admin account
    ol      --- ssh to online server
    proxy   --- proxy via killwall, port: 8000
    help    --- for this

===============================================================
EOF
}

case "$1" in
    'dev')
        ssh_to_dev;;
    'nb')
        ssh_to_nb;;
    'ol')
        ssh_to_ol;;
	'ay')
		ssh_to_aliyun;;
    'proxy')
        _proxy;;
    'help')
        _help;;
    *)
        _help;;
esac
